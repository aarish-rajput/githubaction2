name: deployment

on:
    push:
    issues:
        types: [opened]

jobs:
    test:
        runs-on: ubuntu-latest
        steps:
            - name: Get code
              uses: actions/checkout@6

            - name: Install NodeJS
              uses: actions/setup-node@3

            - name: Install dependecies
              run: npm ci

            - name: Run test
              run: vitest run

            - name: Run lint
              run: eslint --ext .jsx --fix src

            - name: Run build
              run: vite build

    issue-info:
        runs-on: ubuntu-latest
        if: github.event_name == 'issues'
        steps:
            - name: Echo issue details
              run: |
                  echo "ğŸ†” Issue Number: ${{ github.event.issue.number }}"
                  echo "ğŸ“Œ Title: ${{ github.event.issue.title }}"
                  echo "ğŸ‘¤ Author: ${{ github.event.issue.user.login }}"
                  echo "ğŸ“ Body:"
                  echo "${{ github.event.issue.body }}"
                  echo "ğŸ”— URL: ${{ github.event.issue.html_url }}"
